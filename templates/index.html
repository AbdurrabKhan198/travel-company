{% extends "base.html" %}
{% load static %}
{% load travel_filters %}

{% block title %}Safar Zone - Explore the World{% endblock %}

{% block extra_css %}
<style>
    /* Hero Section */
    .hero {
        background: linear-gradient(135deg, #0d6efd, #0dcaf0);
        color: white;
        padding: 100px 0;
        position: relative;
        overflow: hidden;
    }
    
    .hero h1 {
        font-size: 3.5rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
    }
    
    .hero p {
        font-size: 1.25rem;
        margin-bottom: 2rem;
        opacity: 0.9;
    }
    
    .search-box {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-radius: 15px;
        padding: 30px;
        margin-top: 30px;
    }
    
    .form-control, .form-select {
        padding: 12px 20px;
        border: none;
        border-radius: 8px;
        background: rgba(255, 255, 255, 0.9);
    }
    
    .btn-hero {
        padding: 12px 30px;
        font-weight: 600;
        border-radius: 8px;
        text-transform: uppercase;
        letter-spacing: 1px;
    }
    
    /* Destinations Section */
    .section-title {
        position: relative;
        margin-bottom: 60px;
    }
    
    .section-title h2 {
        font-weight: 700;
        margin-bottom: 15px;
    }
    
    .section-title:after {
        content: '';
        display: block;
        width: 60px;
        height: 4px;
        background: linear-gradient(45deg, var(--primary), var(--secondary));
        margin: 15px auto 0;
    }
    
    .destination-card {
        border: none;
        border-radius: 15px;
        overflow: hidden;
        transition: all 0.3s ease;
        margin-bottom: 30px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    }
    
    .destination-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
    }
    
    .destination-card img {
        height: 200px;
        object-fit: cover;
    }
    
    .destination-card .card-body {
        padding: 20px;
    }
    
    .destination-card .price {
        color: var(--primary);
        font-weight: 700;
        font-size: 1.25rem;
    }
    
    /* Features Section */
    .feature-box {
        text-align: center;
        padding: 30px 20px;
        border-radius: 10px;
        background: #fff;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        transition: all 0.3s ease;
        height: 100%;
    }
    
    .feature-box:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }
    
    .feature-icon {
        font-size: 2.5rem;
        margin-bottom: 20px;
        background: linear-gradient(45deg, var(--primary), var(--secondary));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    
    /* Testimonials */
    .testimonial-card {
        background: #fff;
        border-radius: 10px;
        padding: 30px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        margin: 15px;
    }
    
    .testimonial-text {
        font-style: italic;
        margin-bottom: 20px;
    }
    
    .testimonial-author {
        font-weight: 600;
    }
    
    /* Responsive Adjustments */
    @media (max-width: 768px) {
        .hero h1 {
            font-size: 2.5rem;
        }
        
        .hero p {
            font-size: 1.1rem;
        }
        
        .search-box {
            padding: 20px 15px;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="animate__animated animate__fadeInUp">Discover Amazing Places With Us</h1>
                <p class="animate__animated animate__fadeInUp animate__delay-1s">Find and book incredible experiences around the world. Your next adventure starts here!</p>
                <a href="#packages" class="btn btn-light btn-hero animate__animated animate__fadeInUp animate__delay-2s">Explore Now</a>
            </div>
            <div class="col-lg-6">
                <div class="search-box animate__animated animate__fadeIn animate__delay-1s">
                    <h4 class="text-white mb-4">Find Your Perfect Flight</h4>
                    <form method="GET" action="{% url 'search_flights' %}">
                        <div class="row g-3">
                            <!-- Route Type Selection -->
                            <div class="col-12">
                                <div class="btn-group w-100" role="group">
                                    <input type="radio" class="btn-check" name="route_type" id="domestic" value="domestic" checked>
                                    <label class="btn btn-outline-light" for="domestic">
                                        <i class="bi bi-house-door"></i> Domestic
                                    </label>
                                    <input type="radio" class="btn-check" name="route_type" id="international" value="international">
                                    <label class="btn btn-outline-light" for="international">
                                        <i class="bi bi-globe"></i> International
                                    </label>
                                </div>
                            </div>
                            
                            <!-- From Location -->
                            <div class="col-md-6">
                                <label for="from_location" class="form-label text-white">From</label>
                                <select class="form-select" name="from_location" id="from_location" required>
                                    <option value="">Select Origin</option>
                                    {% for origin in origins %}
                                        <option value="{{ origin }}">
                                            {{ origin }}
                                            {% if origin in airport_codes %} ({{ airport_codes|get_item:origin }}){% endif %}
                                        </option>
                                    {% endfor %}
                                </select>
                            </div>
                            
                            <!-- To Location -->
                            <div class="col-md-6">
                                <label for="to_location" class="form-label text-white">To</label>
                                <select class="form-select" name="to_location" id="to_location" required>
                                    <option value="">Select Destination</option>
                                    {% for destination in destinations %}
                                        <option value="{{ destination }}">
                                            {{ destination }}
                                            {% if destination in airport_codes %} ({{ airport_codes|get_item:destination }}){% endif %}
                                        </option>
                                    {% endfor %}
                                </select>
                            </div>
                            
                            <!-- Travel Date -->
                            <div class="col-md-6">
                                <label for="travel_date" class="form-label text-white">Departure Date</label>
                                <input type="date" class="form-control" name="travel_date" id="travel_date" 
                                       min="{{ today }}" required>
                            </div>
                            
                            <!-- Number of Passengers -->
                            <div class="col-md-6">
                                <label for="passengers" class="form-label text-white">Passengers</label>
                                <select class="form-select" name="passengers" id="passengers" required>
                                    <option value="1">1 Adult</option>
                                    <option value="2">2 Adults</option>
                                    <option value="3">3 Adults</option>
                                    <option value="4">4 Adults</option>
                                    <option value="5">5 Adults</option>
                                </select>
                            </div>
                            
                            <!-- Search Button -->
                            <div class="col-12">
                                <button type="submit" class="btn btn-warning w-100 py-3 fw-bold">
                                    <i class="bi bi-search"></i> Search Flights
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Popular Destinations -->
<section class="py-5" id="packages">
    <div class="container">
        <div class="section-title text-center">
            <span class="text-primary">Explore</span>
            <h2>Popular Destinations</h2>
            <p>Discover our most popular travel destinations</p>
        </div>
        
        <div class="row">
            <!-- Destination 1 -->
            <div class="col-lg-4 col-md-6">
                <div class="destination-card">
                    <img src="https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" class="card-img-top" alt="Bali">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h5 class="card-title mb-0">Bali, Indonesia</h5>
                            <div class="price">$899</div>
                        </div>
                        <p class="card-text text-muted">Explore the island of gods with its beautiful beaches and rich culture.</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <i class="bi bi-star-fill text-warning"></i>
                                <span class="ms-1">4.8</span>
                                <span class="text-muted">(124 reviews)</span>
                            </div>
                            <a href="#" class="btn btn-sm btn-outline-primary">View Details</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Destination 2 -->
            <div class="col-lg-4 col-md-6">
                <div class="destination-card">
                    <img src="https://images.unsplash.com/photo-1523482580672-f109ba8cb9be?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" class="card-img-top" alt="Paris">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h5 class="card-title mb-0">Paris, France</h5>
                            <div class="price">$1,299</div>
                        </div>
                        <p class="card-text text-muted">Experience the city of love with its iconic landmarks and romantic ambiance.</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <i class="bi bi-star-fill text-warning"></i>
                                <span class="ms-1">4.9</span>
                                <span class="text-muted">(215 reviews)</span>
                            </div>
                            <a href="#" class="btn btn-sm btn-outline-primary">View Details</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Destination 3 -->
            <div class="col-lg-4 col-md-6 mx-auto">
                <div class="destination-card">
                    <img src="https://images.unsplash.com/photo-1502602898657-3e91760cbb34?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" class="card-img-top" alt="Dubai">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h5 class="card-title mb-0">Dubai, UAE</h5>
                            <div class="price">$1,599</div>
                        </div>
                        <p class="card-text text-muted">Discover the city of gold with its modern architecture and luxury shopping.</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <i class="bi bi-star-fill text-warning"></i>
                                <span class="ms-1">4.7</span>
                                <span class="text-muted">(187 reviews)</span>
                            </div>
                            <a href="#" class="btn btn-sm btn-outline-primary">View Details</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="text-center mt-5">
            <a href="#" class="btn btn-outline-primary">View All Destinations</a>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="section-title text-center">
            <span class="text-primary">Why Choose Us</span>
            <h2>Our Features</h2>
            <p>We offer the best services for your travel needs</p>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-4 col-md-6">
                <div class="feature-box">
                    <div class="feature-icon">
                        <i class="bi bi-globe"></i>
                    </div>
                    <h4>Worldwide Coverage</h4>
                    <p class="text-muted">We offer travel services to over 1000 destinations worldwide, ensuring you can go anywhere you dream.</p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-box">
                    <div class="feature-icon">
                        <i class="bi bi-currency-dollar"></i>
                    </div>
                    <h4>Best Price Guarantee</h4>
                    <p class="text-muted">We guarantee the best prices for all our travel packages. Found a better deal? We'll match it!</p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6 mx-auto">
                <div class="feature-box">
                    <div class="feature-icon">
                        <i class="bi bi-headset"></i>
                    </div>
                    <h4>24/7 Customer Support</h4>
                    <p class="text-muted">Our dedicated support team is available around the clock to assist you with any queries or issues.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section class="py-5" id="testimonials">
    <div class="container">
        <div class="section-title text-center">
            <span class="text-primary">Testimonials</span>
            <h2>What Our Travelers Say</h2>
            <p>Hear from our satisfied customers</p>
        </div>
        
        <div class="row">
            <div class="col-lg-4">
                <div class="testimonial-card">
                    <div class="testimonial-text">
                        "Amazing experience with Safar Zone! The trip was perfectly organized, and we had the best time exploring Bali. Highly recommended!"
                    </div>
                    <div class="d-flex align-items-center">
                        <img src="https://randomuser.me/api/portraits/women/32.jpg" class="rounded-circle me-3" width="50" height="50" alt="User">
                        <div>
                            <h6 class="mb-0">Sarah Johnson</h6>
                            <small class="text-muted">Travel Enthusiast</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="testimonial-card">
                    <div class="testimonial-text">
                        "The customer service is outstanding. They helped us customize our Europe trip exactly how we wanted it. Will definitely book again!"
                    </div>
                    <div class="d-flex align-items-center">
                        <img src="https://randomuser.me/api/portraits/men/45.jpg" class="rounded-circle me-3" width="50" height="50" alt="User">
                        <div>
                            <h6 class="mb-0">Michael Chen</h6>
                            <small class="text-muted">Frequent Traveler</small>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="testimonial-card">
                    <div class="testimonial-text">
                        "I've used many travel agencies, but Safar Zone stands out for their attention to detail and excellent itineraries. 5 stars!"
                    </div>
                    <div class="d-flex align-items-center">
                        <img src="https://randomuser.me/api/portraits/women/68.jpg" class="rounded-circle me-3" width="50" height="50" alt="User">
                        <div>
                            <h6 class="mb-0">Emily Rodriguez</h6>
                            <small class="text-muted">Adventure Seeker</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action -->
<section class="py-5 bg-primary text-white">
    <div class="container text-center">
        <h2 class="mb-4">Ready to Start Your Next Adventure?</h2>
        <p class="lead mb-4">Join thousands of travelers who trust us with their dream vacations.</p>
        <a href="#" class="btn btn-light btn-lg px-5">Book Now</a>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    // Add smooth scrolling to all links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                window.scrollTo({
                    top: targetElement.offsetTop - 80,
                    behavior: 'smooth'
                });
            }
        });
    });
    
    // Add animation on scroll
    document.addEventListener('DOMContentLoaded', function() {
        const animateElements = document.querySelectorAll('.animate-on-scroll');
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate__animated', 'animate__fadeInUp');
                }
            });
        }, {
            threshold: 0.1
        });
        
        animateElements.forEach(element => {
            observer.observe(element);
        });
    });
</script>
{% endblock %}