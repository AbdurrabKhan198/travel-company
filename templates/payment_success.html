{% extends 'base.html' %}
{% load static %}

{% block title %}Payment Successful - Safar Zone Travels{% endblock %}

{% block content %}
<div class="bg-gradient-to-br from-gray-50 to-green-50 py-16 min-h-screen">
    <div class="container mx-auto px-4">
        <div class="max-w-2xl mx-auto text-center">
            <div class="bg-white rounded-2xl shadow-lg p-12">
                <div class="mb-6">
                    <div class="w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce">
                        <i class="fas fa-check-circle text-green-500 text-5xl"></i>
                    </div>
                    <h1 class="text-3xl font-bold text-gray-800 mb-2">Payment Successful! ðŸŽ‰</h1>
                    <p class="text-gray-600">Your payment has been processed successfully.</p>
                </div>

                {% if booking %}
                <div class="bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 mb-6 border-2 border-green-200">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Booking Details</h3>
                    <div class="text-left space-y-2 text-gray-700">
                        <p class="flex items-center justify-between">
                            <span class="font-semibold">Booking Reference:</span>
                            <span class="font-mono text-green-600">{{ booking.booking_reference }}</span>
                        </p>
                        <p class="flex items-center justify-between">
                            <span class="font-semibold">Amount Paid:</span>
                            <span class="text-green-600 font-bold">â‚¹{{ booking.total_amount|floatformat:2 }}</span>
                        </p>
                        <p class="flex items-center justify-between">
                            <span class="font-semibold">Status:</span>
                            <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-semibold">Confirmed</span>
                        </p>
                        {% if booking.schedule %}
                        <p class="flex items-center justify-between mt-3 pt-3 border-t border-green-200">
                            <span class="font-semibold">Flight:</span>
                            <span>{{ booking.schedule.route.from_location }} â†’ {{ booking.schedule.route.to_location }}</span>
                        </p>
                        <p class="flex items-center justify-between">
                            <span class="font-semibold">Date:</span>
                            <span>{{ booking.schedule.departure_date|date:"d F Y" }}</span>
                        </p>
                        {% endif %}
                    </div>
                </div>
                {% endif %}

                <div class="bg-blue-50 rounded-xl p-6 mb-6 border-l-4 border-blue-500">
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">What's Next?</h3>
                    <ul class="text-left text-gray-600 space-y-2">
                        <li><i class="fas fa-check-circle text-green-500 mr-2"></i>Your booking has been confirmed</li>
                        <li><i class="fas fa-check-circle text-green-500 mr-2"></i>You will receive a confirmation email shortly</li>
                        <li><i class="fas fa-check-circle text-green-500 mr-2"></i>View your ticket in "My Trips" section</li>
                        <li><i class="fas fa-check-circle text-green-500 mr-2"></i>Download your ticket PDF anytime</li>
                    </ul>
                </div>

                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    {% if booking %}
                    <a href="{% url 'booking_confirmation' booking.id %}" class="btn-primary py-3 px-6 rounded-xl">
                        <i class="fas fa-file-invoice mr-2"></i>View Booking Details
                    </a>
                    <a href="{% url 'view_ticket' booking.id %}" target="_blank" class="btn-secondary py-3 px-6 rounded-xl">
                        <i class="fas fa-file-pdf mr-2"></i>Download Ticket
                    </a>
                    {% endif %}
                    <a href="{% url 'my_trips' %}" class="btn-secondary py-3 px-6 rounded-xl">
                        <i class="fas fa-calendar-check mr-2"></i>My Trips
                    </a>
                    <a href="{% url 'homepage' %}" class="btn-secondary py-3 px-6 rounded-xl">
                        <i class="fas fa-home mr-2"></i>Back to Home
                    </a>
                </div>

                <div class="mt-8 text-sm text-gray-500">
                    <p>Need help? Contact our support team:</p>
                    <p class="mt-2">
                        <i class="fas fa-envelope mr-2"></i>support@safarzone.com
                        <span class="mx-2">|</span>
                        <i class="fas fa-phone mr-2"></i>+91 98765 43210
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    @keyframes bounce {
        0%, 100% {
            transform: translateY(0);
        }
        50% {
            transform: translateY(-10px);
        }
    }
    .animate-bounce {
        animation: bounce 1s ease-in-out infinite;
    }
    .btn-primary {
        background: linear-gradient(135deg, #0ea5e9 0%, #3b82f6 100%);
        color: white;
        font-weight: 600;
        transition: all 0.3s;
        display: inline-flex;
        align-items: center;
        justify-content: center;
    }
    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(14, 165, 233, 0.4);
    }
    .btn-secondary {
        background: white;
        color: #374151;
        border: 2px solid #e5e7eb;
        font-weight: 600;
        transition: all 0.3s;
        display: inline-flex;
        align-items: center;
        justify-content: center;
    }
    .btn-secondary:hover {
        background: #f9fafb;
        border-color: #d1d5db;
        transform: translateY(-2px);
    }
</style>
{% endblock %}

